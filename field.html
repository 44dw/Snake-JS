<!DOCTYPE HTML>
<html>

<head>
  <title>snake</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="styles.css">
  <script src='generate.js'></script>
  <script src='moveHead.js'></script>
  <script src='moveBody.js'></script>
  <script src='createPoint.js'></script>
  <script src='compareCoords.js'></script>
  <script src='newDirection.js'></script>
  <script src='stop.js'></script>
  <script src='getRandom.js'></script>
  <script src='newApple.js'></script>
  <script src='generateApple.js'></script>
  <script src='shiftAppleCoords.js'></script>
  <script src='eatApple.js'></script>
  <script src='growTail.js'></script>
  <script src='test.js'></script>
</head>
<body>
	<div id='field'>
		<div id='snakeHead' data-direction='top'></div>
		<div class='tail' data-direction='top'></div>
		<div class='tail' data-direction='top'></div>
		<div class='tail last' data-direction='top'></div>
	</div>
	<div id='score'>SCORE<span>0</span></div>
<script>
	
	let field = document.getElementById('field');
	let snakeHead = document.getElementById('snakeHead');
	let fieldRect = field.getBoundingClientRect();
	let score = document.querySelector('#score span');
	//let over = document.getElementById('over');
		
	let turnPoint = []; //protocol turn points
	let intervals = {}; //protocol intervals
	let appleCoords = [];
	
	generate(); //generate snake body under snake head;
	
	let goHead = setInterval(moveHead, 100); //move snakeHead
	intervals.head = goHead;
	let goBody = setInterval(moveBody, 100); //move snakeTail
	intervals.body = goBody;
	
	newApple();
	
	document.onkeydown = function(event) {
		let dir = newDirection(event);
		createPoint(dir);
	}
</script>	
</body>

</html>